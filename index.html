
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <title>redis-cluster-view</title>
    <link href="./css/terminal.css"
          rel="stylesheet" type="text/css" />
      <!--<script src="http://www.codehelper.io/api/ips/?js"></script>-->
      
      <script>
      window.$ = window.jQuery = require("./js/jquery-2.1.1.min.js");
      window.term = require("./js/terminal.js");
  
      </script>

       
    <script> 
      var  Redis = require('ioredis');
      var term = require('./js/terminal.js');
      var cluserOption={
        clusterRetryStrategy:function(times) {
            var delay = Math.min(times * 50, 2000);
            return delay;
          }
    };
      var profile = "test"; 
      var  cluster=new Redis.Cluster(getTestConfig(),cluserOption);
      var redis = new Redis(getDevConfig());
    $(function() {
  
  // Set the command-line prompt to include the user's IP Address
  //$('.prompt').html('[' + codehelper_ip["IP"] + '@HTML5] # ');
    $('.prompt').html('[redis-cluster-view:'+profile+'] # ');

  // Initialize a new terminal object
    term.Terminal('#input-line .cmdline', '#container output',cluster,null);

  //term.init();
  });

function getDevConfig(){
var option = {
  port: 16379, // Redis port
  host: "10.1.1.97", // Redis host
  password: "HN6Di0bdsIoTTb1A",
  db: 0,
  maxRetriesPerRequest: 20,
  retryStrategy: function(times) {
    var delay = Math.min(times * 50, 2000);
    return delay;
  }
}
return option;
}

function getProConfig(){
    var redis_members = [{
        port: 6379,
        password: '310c8cabcdefghf2d8abcdefd44496ac80',
        host: '10.16.34.254'
      }, {
        port: 6379,
        password: '310c8cabcdefghf2d8abcdefd44496ac80',
        host: '10.16.33.38'
      }, {
        port: 6379,
        password: '310c8cabcdefghf2d8abcdefd44496ac80',
        host: '10.16.33.105'
      }]
      return redis_members;
}
function getUatConfig(){
    var redis_members = [{
        port: 6380,
        password: 'deepblue',
        host: '10.1.1.65'
      }, {
        port: 6385,
        password: 'deepblue',
        host: '10.1.1.65'
      }, {
        port: 6381,
        password: 'deepblue',
        host: '10.1.1.65'
      }]
      return redis_members;
}
function getTestConfig(){
    var redis_members = [{
        port: 6379,
        password: 'deepblue',
        host: '10.1.1.95'
      }, {
        port: 6380,
        password: 'deepblue',
        host: '10.1.1.95'
      }, {
        port: 6381,
        password: 'deepblue',
        host: '10.1.1.95'
      }]
      return redis_members;
}
</script>      
  </head>
  <body>
    <div id="container">
      <output></output>
      <div id="input-line" class="input-line">
        <div class="prompt"></div><div><input  class="cmdline" autofocus/><span class="placeholder"></span></div >
      </div>
    </div>
  </body>
</html>
